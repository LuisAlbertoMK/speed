<div class="content-header">
  <div class="container-fluid">
    <div class="row">
      <div class="col">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a class="breadcrumb-item" [routerLink]="['/inicio']">Inicio</a></li>
          <li class="breadcrumb-item active">Clientes y Veh√≠culos</li>
        </ol>
      </div>
    </div>
  </div>
</div>

<app-template-clientes-tabla [clientes_arr]="clientes_arr"></app-template-clientes-tabla>


<div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12 col-12 text-end">
    <button class="btn btn-sm btn-primary m-1" data-bs-toggle="modal" data-bs-target="#modalNewUser" (click)="data_cliente = {}">
      <i class="fa fa-user-plus"></i>
    </button>
    <button class="btn btn-sm btn-warning m-1" data-bs-toggle="modal" data-bs-target="#modalNewVehiculo" (click)="data_cliente = {}">
      <i class="fa fa-car"></i>
    </button>
    <!-- <button class="btn btn-sm btn-secondary m-1" ><i class="fa fa-filter"></i></button> -->
    <button class="btn btn-sm btn-secondary m-1" [matMenuTriggerFor]="filtroTipo"><i class="fa fa-filter"></i></button>
      <mat-menu #filtroTipo="matMenu">
        <button mat-menu-item (click)="filtro_tipo = tipo; filtra_informacion()" *ngFor="let tipo of tipos_cliente">{{tipo | capitalizarUno}}</button>
      </mat-menu>

      <ng-container *ngIf="SUCURSAL === 'Todas'">
        <button class="btn btn-sm btn-secondary m-1" [matMenuTriggerFor]="filtroSucursal"><i class="fa fa-filter"></i></button>
        <mat-menu #filtroSucursal="matMenu">
          <button mat-menu-item (click)="filtro_sucursal = 'Todas'; filtra_informacion()" >{{'Todas' | capitalizarUno}}</button>
          <button mat-menu-item (click)="filtro_sucursal = sucursal.id; filtra_informacion()" *ngFor="let sucursal of sucursales_array">{{sucursal.sucursal | capitalizarUno}}</button>
        </mat-menu>
      </ng-container>
      
      
  </div>
  <div class="col-lg-12 col-md-12 col-sm-12 col-12 mb-3">
    <input type="text" class="form-control form-control-sm" placeholder="Buscar" (keyup)="applyFilter($event)">
  </div>
</div>

<!-- aqui las ventanas modal para el registro de nuevo cliente o vehiculo -->

  <div class="modal fade" id="modalNewUser" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div
    class="modal-dialog modal-xl modal-fullscreen modal-fullscreen-sm-down modal-fullscreen-md-down modal-fullscreen-lg-down modal-fullscreen-xl-down modal-fullscreen-xxl-down ">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close" id="cerrar-modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">

        <ng-container *ngIf="data_cliente['id']; else elseTemplateRegistroCLiente">
          <app-cliente [data_cliente]="data_cliente" (heroeSlec)="clientesInfo( $event )"></app-cliente>
        </ng-container>
        <ng-template #elseTemplateRegistroCLiente>
          <app-cliente (heroeSlec)="clientesInfo( $event )"></app-cliente>
        </ng-template>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="modalNewVehiculo" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true" >
  <div
    class="modal-dialog modal-xl modal-fullscreen modal-fullscreen-sm-down modal-fullscreen-md-down modal-fullscreen-lg-down modal-fullscreen-xl-down modal-fullscreen-xxl-down ">
    <div class="modal-content">
      <div class="modal-body m-2">
        <ng-container *ngIf="data_cliente['id']; else elseTemplateDataCliente">
          <app-vehiculo [data_cliente]="data_cliente" (dataVehiculo)="vehiculoInfo( $event )" ></app-vehiculo>
        </ng-container>
        <ng-template #elseTemplateDataCliente>
          <app-vehiculo (dataVehiculo)="vehiculoInfo( $event )" ></app-vehiculo>
        </ng-template>
      </div>
    </div>
  </div>
</div>

<div class="row m-2">
  <div class="col"></div>
</div>